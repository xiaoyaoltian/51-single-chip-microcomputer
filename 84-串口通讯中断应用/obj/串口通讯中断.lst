C51 COMPILER V9.54   ____________                                                          08/26/2018 12:02:29 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE ____________
OBJECT MODULE PLACED IN .\obj\´®¿ÚÍ¨Ñ¶ÖÐ¶Ï.obj
COMPILER INVOKED BY: d:\Keil_v5\C51\BIN\C51.EXE ´®¿ÚÍ¨Ñ¶ÖÐ¶Ï.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\obj\´
                    -®¿ÚÍ¨Ñ¶ÖÐ¶Ï.lst) TABS(2) OBJECT(.\obj\´®¿ÚÍ¨Ñ¶ÖÐ¶Ï.obj)

line level    source

   1          /*******************************************************************************
   2          * °æ  È¨  : ºìÃ·¿Æ¼¼¹¤×÷ÊÒ
   3          * ÂÛ  Ì³  £ºhttps://blog.csdn.net/Qingzhusshuiyun
   4          * Q Q     £º2369099714
   5          * °æÈ¨ËùÓÐ£¬µÁ°æ±Ø¾¿¡£
   6          * ¹¤  ³Ì   : ´®¿ÚÍ¨Ñ¶ÖÐ¶Ï
   7          * ÎÄ¼þÃû   : ´®¿ÚÍ¨Ñ¶ÖÐ¶Ï.c
   8          * ´¦ÀíÆ÷   : STC89C52RC
   9          * ±àÒë»·¾³ : Keil 5
  10          * ÏµÍ³Ê±ÖÓ : 12MHZ
  11          * °æ    ±¾  : V1.0 
  12          * Éú³ÉÈÕÆÚ  : 2018-07-25              
  13          * ÐÞ¸ÄÈÕÆÚ  :  
  14          * ¼òµ¥ÃèÊö : Á¬½ÓºÃ´®¿Ú»òÕßusb×ª´®¿ÚÖÁµçÄÔ£¬ÏÂÔØ¸Ã³ÌÐò£¬´ò¿ªµçÔ´
  15                  ´ò¿ª´®¿Úµ÷ÊÔ³ÌÐò£¬½«²¨ÌØÂÊÉèÖÃÎª9600£¬ÎÞÆæÅ¼Ð£Ñé
  16                  ¾§Õñ11.0592MHz£¬·¢ËÍºÍ½ÓÊÕÊ¹ÓÃµÄ¸ñÊ½ÏàÍ¬£¬Èç¶¼Ê¹ÓÃ
  17                  ×Ö·ûÐÍ¸ñÊ½£¬°´¸´Î»ÖØÆô³ÌÐò£¬¿ÉÒÔ¿´µ½½ÓÊÕµ½ UART test
  18          *******************************************************************************/
  19           
  20          
  21          #include<reg52.h> //°üº¬Í·ÎÄ¼þ£¬Ò»°ãÇé¿ö²»ÐèÒª¸Ä¶¯£¬Í·ÎÄ¼þ°üº¬ÌØÊâ¹¦ÄÜ¼Ä´æÆ÷µÄ¶¨Òå                        
  22          
  23          /*------------------------------------------------
  24                             º¯ÊýÉùÃ÷
  25          ------------------------------------------------*/
  26          void SendStr(unsigned char *s);
  27          
  28          /*------------------------------------------------
  29                              ´®¿Ú³õÊ¼»¯
  30          ------------------------------------------------*/
  31          void InitUART  (void)
  32          {
  33   1      
  34   1          SCON  = 0x50;           // SCON: Ä£Ê½ 1, 8-bit UART, Ê¹ÄÜ½ÓÊÕ  
  35   1          TMOD |= 0x20;               // TMOD: timer 1, mode 2, 8-bit ÖØ×°
  36   1          TH1   = 0xFD;               // TH1:  ÖØ×°Öµ 9600 ²¨ÌØÂÊ ¾§Õñ 11.0592MHz  
  37   1          TR1   = 1;                  // TR1:  timer 1 ´ò¿ª                         
  38   1          EA    = 1;                  //´ò¿ª×ÜÖÐ¶Ï
  39   1         // ES    = 1;                  //´ò¿ª´®¿ÚÖÐ¶Ï
  40   1      }                            
  41          /*------------------------------------------------
  42                              Ö÷º¯Êý
  43          ------------------------------------------------*/
  44          void main (void)
  45          {
  46   1      
  47   1      InitUART();
  48   1      
  49   1      SendStr("UART test£¬¼¼ÊõÂÛÌ³£ºwww.doflye.net ÇëÔÚ·¢ËÍÇøÊäÈëÈÎÒâÐÅÏ¢");
  50   1      
  51   1      ES    = 1;                  //´ò¿ª´®¿ÚÖÐ¶Ï
  52   1      while (1)                       
  53   1          {
  54   2          
C51 COMPILER V9.54   ____________                                                          08/26/2018 12:02:29 PAGE 2   

  55   2          }
  56   1      }
  57          
  58          /*------------------------------------------------
  59                              ·¢ËÍÒ»¸ö×Ö½Ú
  60          ------------------------------------------------*/
  61          void SendByte(unsigned char dat)
  62          {
  63   1       SBUF = dat;
  64   1       while(!TI);
  65   1            TI = 0;
  66   1      }
  67          /*------------------------------------------------
  68                              ·¢ËÍÒ»¸ö×Ö·û´®
  69          ------------------------------------------------*/
  70          void SendStr(unsigned char *s)
  71          {
  72   1       while(*s!='\0')// \0 ±íÊ¾×Ö·û´®½áÊø±êÖ¾£¬Í¨¹ý¼ì²âÊÇ·ñ×Ö·û´®Ä©Î²
  73   1        {
  74   2        SendByte(*s);
  75   2        s++;
  76   2        }
  77   1      }
  78          /*------------------------------------------------
  79                               ´®¿ÚÖÐ¶Ï³ÌÐò
  80          ------------------------------------------------*/
  81          void UART_SER (void) interrupt 4 //´®ÐÐÖÐ¶Ï·þÎñ³ÌÐò
  82          {
  83   1          unsigned char Temp;          //¶¨ÒåÁÙÊ±±äÁ¿ 
  84   1         
  85   1         if(RI)                        //ÅÐ¶ÏÊÇ½ÓÊÕÖÐ¶Ï²úÉú
  86   1           {
  87   2          RI=0;                      //±êÖ¾Î»ÇåÁã
  88   2          Temp=SBUF;                 //¶ÁÈë»º³åÇøµÄÖµ
  89   2          P1=Temp;                   //°ÑÖµÊä³öµ½P1¿Ú£¬ÓÃÓÚ¹Û²ì
  90   2            SBUF=Temp;                 //°Ñ½ÓÊÕµ½µÄÖµÔÙ·¢»ØµçÄÔ¶Ë
  91   2         }
  92   1         if(TI)                        //Èç¹ûÊÇ·¢ËÍ±êÖ¾Î»£¬ÇåÁã
  93   1           TI=0;
  94   1      } 
  95          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     85    ----
   CONSTANT SIZE    =     59    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
